<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<title>cover/Elixir.KV.Bucket.html</title>
</head><body style='background-color: white; color: black'>
<pre>
File generated from /Users/ensar/Projects/elixir-mix-otp-sample/lib/kv/bucket.ex by COVER 2017-09-02 at 10:42:21

****************************************************************************

        |  defmodule KV.Bucket do
        |    use Agent
        |    @moduledoc """
        |    Simple key value storage
        |    """
        |  
        |    @doc """
        |    Creates a new bucket
        |    """
        |    def start_link(_opts) do
     3..|      Agent.start_link(fn -&gt; %{} end)
        |    end
        |  
        |    @doc """
        |    Saves the `value` in the `bucket` for the given `key`
        |    """
        |    def put(bucket, key, value) do
     2..|      Agent.update(bucket, &amp;Map.put(&amp;1, key, value))
        |    end
        |  
        |    @doc """
        |    Gets the value for the given `key` from the `bucket`
        |    """
        |    def get(bucket, key) do
     3..|      Agent.get(bucket, &amp;Map.get(&amp;1, key))
        |    end
        |  
        |    @doc """
        |    Deletes `key` from `bucket`
        |  
        |    If `key` exists, also returns associated value
        |    """
        |    def delete(bucket, key) do
     2..|      Agent.get_and_update(bucket, &amp;Map.pop(&amp;1, key))
        |    end
        |  
        |  end
</pre>
</body>
</html>
